{"data":"InVzZSBjbGllbnQiCmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSAibmV4dC9uYXZpZ2F0aW9uIgppbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gInJlYWN0IgppbXBvcnQgeyBjcmVhdGVTdXBhYmFzZUJyb3dzZXJDbGllbnQgfSBmcm9tICJAL2xpYi9zdXBhYmFzZS1jbGllbnQiCmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvY2FyZCIKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvaW5wdXQiCmltcG9ydCB7IExhYmVsIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2xhYmVsIgppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYnV0dG9uIgoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5QYWdlKCkgewogIGNvbnN0IHBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpCiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCkKICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKCIiKQogIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoIiIpCiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpCiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoIiIpCgogIGNvbnN0IHJlZGlyZWN0ID0gcGFyYW1zLmdldCgicmVkaXJlY3QiKSB8fCAiLyIKCiAgY29uc3QgY2FuSW5pdCA9CiAgICAhIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCAmJgogICAgISEocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfUFVCTElTSEFCTEVfS0VZIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKQoKICBjb25zdCBzaWduSW4gPSBhc3luYyAoKSA9PiB7CiAgICBzZXRNZXNzYWdlKCIiKQogICAgc2V0TG9hZGluZyh0cnVlKQogICAgdHJ5IHsKICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTdXBhYmFzZUJyb3dzZXJDbGllbnQoKQogICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7IGVtYWlsLCBwYXNzd29yZCB9KQogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICBzZXRNZXNzYWdlKGVycm9yLm1lc3NhZ2UpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKGRhdGEuc2Vzc2lvbikgewogICAgICAgIHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0KQogICAgICAgIHJvdXRlci5yZWZyZXNoKCkKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvbG9naW4iKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocmVkaXJlY3QpCiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmIChkYXRhLnVzZXIpIHsKICAgICAgICByb3V0ZXIucmVwbGFjZShyZWRpcmVjdCkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBzZXRNZXNzYWdlKCJOw6NvIGZvaSBwb3Nzw612ZWwgaW5pY2lhciBhIHNlc3PDo28uIFZlcmlmaXF1ZSBzdWFzIGNyZWRlbmNpYWlzLiIpCiAgICB9IGNhdGNoIChlOiBhbnkpIHsKICAgICAgc2V0TWVzc2FnZShlPy5tZXNzYWdlIHx8ICJFcnJvIGluZXNwZXJhZG8gYW8gZW50cmFyIikKICAgIH0gZmluYWxseSB7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpCiAgICB9CiAgfQoKICBjb25zdCBzaWduVXAgPSBhc3luYyAoKSA9PiB7CiAgICBzZXRNZXNzYWdlKCIiKQogICAgc2V0TG9hZGluZyh0cnVlKQogICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTdXBhYmFzZUJyb3dzZXJDbGllbnQoKQogICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoeyBlbWFpbCwgcGFzc3dvcmQgfSkKICAgIHNldExvYWRpbmcoZmFsc2UpCiAgICBpZiAoZXJyb3IpIHsKICAgICAgc2V0TWVzc2FnZShlcnJvci5tZXNzYWdlKQogICAgICByZXR1cm4KICAgIH0KICAgIGlmIChkYXRhLnVzZXIpIHNldE1lc3NhZ2UoIkNvbnRhIGNyaWFkYS4gVmVyaWZpcXVlIHNldSBlbWFpbC4iKQogIH0KCiAgY29uc3QgcmVzZXRQYXNzd29yZCA9IGFzeW5jICgpID0+IHsKICAgIHNldE1lc3NhZ2UoIiIpCiAgICBzZXRMb2FkaW5nKHRydWUpCiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVN1cGFiYXNlQnJvd3NlckNsaWVudCgpCiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbChlbWFpbCwgeyByZWRpcmVjdFRvOiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9sb2dpbmAgfSkKICAgIHNldExvYWRpbmcoZmFsc2UpCiAgICBpZiAoZXJyb3IpIHNldE1lc3NhZ2UoZXJyb3IubWVzc2FnZSkKICAgIGVsc2Ugc2V0TWVzc2FnZSgiTGluayBkZSByZWN1cGVyYcOnw6NvIGVudmlhZG8uIikKICB9CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBtaW4taC1zY3JlZW4gdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQiPgogICAgICA8bWFpbiBjbGFzc05hbWU9InctZnVsbCBtYXgtdy1tZCI+CiAgICAgICAgPENhcmQ+CiAgICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRUaXRsZT5FbnRyYXI8L0NhcmRUaXRsZT4KICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAgICAgIHshY2FuSW5pdCAmJiAoCiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtc20gdGV4dC1yZWQtNjAwIj5Db25maWd1cmUgTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGUgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk8L2Rpdj4KICAgICAgICAgICAgKX0KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9ImVtYWlsIj5FbWFpbDwvTGFiZWw+CiAgICAgICAgICAgICAgPElucHV0IGlkPSJlbWFpbCIgdHlwZT0iZW1haWwiIHZhbHVlPXtlbWFpbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9IC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0icGFzc3dvcmQiPlNlbmhhPC9MYWJlbD4KICAgICAgICAgICAgICA8SW5wdXQgaWQ9InBhc3N3b3JkIiB0eXBlPSJwYXNzd29yZCIgdmFsdWU9e3Bhc3N3b3JkfSBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX0gLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIHttZXNzYWdlICYmIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtcmVkLTYwMCI+e21lc3NhZ2V9PC9kaXY+fQogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBnYXAtMiI+CiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9ImZsZXgtMSIgb25DbGljaz17c2lnbklufSBkaXNhYmxlZD17bG9hZGluZyB8fCAhY2FuSW5pdH0+e2xvYWRpbmcgPyAiRW50cmFuZG8uLi4iIDogIkVudHJhciJ9PC9CdXR0b24+CiAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBjbGFzc05hbWU9ImZsZXgtMSIgb25DbGljaz17c2lnblVwfSBkaXNhYmxlZD17bG9hZGluZyB8fCAhY2FuSW5pdH0+Q3JpYXIgY29udGE8L0J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIG9uQ2xpY2s9e3Jlc2V0UGFzc3dvcmR9IGRpc2FibGVkPXtsb2FkaW5nIHx8ICFjYW5Jbml0fT5Fc3F1ZWNpIG1pbmhhIHNlbmhhPC9CdXR0b24+CiAgICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgIDwvQ2FyZD4KICAgICAgPC9tYWluPgogICAgPC9kaXY+CiAgKQp9Cg=="}