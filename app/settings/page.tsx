{"data":"InVzZSBjbGllbnQiOwoKaW1wb3J0IHsgdXNlQWN0aW9uU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gInJlYWN0IjsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiI7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gIkAvY29tcG9uZW50cy91aS9jYXJkIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJAL2hvb2tzL3VzZS10b2FzdCI7CmltcG9ydCB7IExvYWRlcjIsIFJlZnJlc2hDdywgU2V0dGluZ3MgYXMgU2V0dGluZ3NJY29uIH0gZnJvbSAibHVjaWRlLXJlYWN0IjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAibmV4dC9uYXZpZ2F0aW9uIjsKCmFzeW5jIGZ1bmN0aW9uIGNsZWFyUHJvZHVjdENhY2hlQWN0aW9uKHByZXZTdGF0ZTogYW55LCBmb3JtRGF0YTogRm9ybURhdGEpIHsKICB0cnkgewogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgiL2FwaS9zZXR0aW5ncy9jbGVhci1wcm9kdWN0LWNhY2hlIiwgewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgIH0sCiAgICB9KTsKCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwoKICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAiRXJybyBhbyByZWluaWNpYXIgbyBjYWNoZSBkZSBwcm9kdXRvcy4iKTsKICAgIH0KCiAgICByZXR1cm4geyBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsIHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICJFcnJvIGRlc2NvbmhlY2lkbyBhbyByZWluaWNpYXIgbyBjYWNoZS4iLCBzdWNjZXNzOiBmYWxzZSB9OwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2V0dGluZ3NQYWdlKCkgewogIGNvbnN0IFtzdGF0ZSwgZm9ybUFjdGlvbiwgaXNQZW5kaW5nXSA9IHVzZUFjdGlvblN0YXRlKGNsZWFyUHJvZHVjdENhY2hlQWN0aW9uLCB7CiAgICBtZXNzYWdlOiAiIiwKICAgIHN1Y2Nlc3M6IGZhbHNlLAogIH0pOwogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHN0YXRlLm1lc3NhZ2UpIHsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiBzdGF0ZS5tZXNzYWdlLAogICAgICAgIHZhcmlhbnQ6IHN0YXRlLnN1Y2Nlc3MgPyAiZGVmYXVsdCIgOiAiZGVzdHJ1Y3RpdmUiLAogICAgICB9KTsKICAgICAgaWYgKHN0YXRlLnN1Y2Nlc3MpIHsKICAgICAgICAvLyBPcHRpb25hbGx5IHJlZnJlc2ggdGhlIHBhZ2UgdG8gcmVmbGVjdCBwb3RlbnRpYWwgZGF0YSBjaGFuZ2VzCiAgICAgICAgcm91dGVyLnJlZnJlc2goKTsKICAgICAgfQogICAgfQogIH0sIFtzdGF0ZSwgcm91dGVyXSk7CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iY29udGFpbmVyIG14LWF1dG8gcC02Ij4KICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTYiPgogICAgICAgIDxTZXR0aW5nc0ljb24gY2xhc3NOYW1lPSJoLTggdy04IHRleHQtZ3JheS02MDAiIC8+CiAgICAgICAgPGRpdj4KICAgICAgICAgIDxoMSBjbGFzc05hbWU9InRleHQtM3hsIGZvbnQtYm9sZCI+Q29uZmlndXJhw6fDtWVzPC9oMT4KICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1ncmF5LTYwMCI+R2VyZW5jaWUgYXMgY29uZmlndXJhw6fDtWVzIGRvIGFwbGljYXRpdm88L3A+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzc05hbWU9ImdyaWQgZ2FwLTYgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMiPgogICAgICAgIDxDYXJkPgogICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9ImgtNSB3LTUgdGV4dC1ibHVlLTYwMCIgLz4KICAgICAgICAgICAgICBSZWluaWNpYXIgQ2FjaGUgZGUgUHJvZHV0b3MKICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgTGltcGEgbyBjYWNoZSBkZSBwcm9kdXRvcyBkbyBSZWRpcyBwYXJhIHNpbmNyb25pemFyIGNvbSBhIHBsYW5pbGhhIEJhc2UgZGUgRUFOcy4KICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgIDxmb3JtIGFjdGlvbj17Zm9ybUFjdGlvbn0+CiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXtpc1BlbmRpbmd9IGNsYXNzTmFtZT0idy1mdWxsIj4KICAgICAgICAgICAgICAgIHtpc1BlbmRpbmcgPyAoCiAgICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yIiAvPgogICAgICAgICAgICAgICAgICAgIFJlaW5pY2lhbmRvLi4uCiAgICAgICAgICAgICAgICAgIDwvPgogICAgICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgICAgIlJlaW5pY2lhciBDYWNoZSBBZ29yYSIKICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgPC9DYXJkPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0="}