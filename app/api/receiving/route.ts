{"data":"aW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAibmV4dC9zZXJ2ZXIiDQppbXBvcnQgeyBhZGRSZWNlaXZpbmdSZWNvcmQgfSBmcm9tICJAL2xpYi9yZWNlaXZpbmctZGF0YSINCg0KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHsNCiAgdHJ5IHsNCiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCkNCiAgICBjb25zdCB7IG5mLCBzdXBwbGllciwgcGFsbGV0Q291bnQsIHNjaGVkdWxlZERhdGUsIG9ic2VydmF0aW9ucyB9ID0gYm9keQ0KDQogICAgLy8gVmFsaWRhw6fDo28gYsOhc2ljYSAtIGFkZHJlc3MgbsOjbyDDqSBtYWlzIG9icmlnYXTDs3Jpbw0KICAgIGlmICghbmYgfHwgIXN1cHBsaWVyIHx8ICFwYWxsZXRDb3VudCB8fCAhc2NoZWR1bGVkRGF0ZSkgew0KICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKA0KICAgICAgICB7IGVycm9yOiAiTkYsIGZvcm5lY2Vkb3IsIHF1YW50aWRhZGUgZGUgcGFsZXRlcyBlIGRhdGEgc8OjbyBvYnJpZ2F0w7NyaW9zIiB9LA0KICAgICAgICB7IHN0YXR1czogNDAwIH0sDQogICAgICApDQogICAgfQ0KDQogICAgY29uc3QgbmV3UmVjZWl2aW5nID0gYXdhaXQgYWRkUmVjZWl2aW5nUmVjb3JkKHsNCiAgICAgIG5mLA0KICAgICAgc3VwcGxpZXIsDQogICAgICBwYWxsZXRDb3VudDogTnVtYmVyLnBhcnNlSW50KHBhbGxldENvdW50KSwNCiAgICAgIG9ic2VydmF0aW9uczogb2JzZXJ2YXRpb25zIHx8ICIiLA0KICAgICAgc2NoZWR1bGVkRGF0ZSwNCiAgICAgIHN0YXR1czogInNjaGVkdWxlZCIsDQogICAgfSkNCg0KICAgIHRyeSB7DQogICAgICBjb25zdCB3ZWJob29rVXJsID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NIQVRfV0VCSE9PS19VUkwNCg0KICAgICAgaWYgKHdlYmhvb2tVcmwpIHsNCiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGDwn5qaIE5vdm8gUmVjZWJpbWVudG8gQWdlbmRhZG9cblxu8J+TiyBORjogJHtuZn1cbvCfj6IgRm9ybmVjZWRvcjogJHtzdXBwbGllcn1cbvCfk6YgUGFsZXRlczogJHtwYWxsZXRDb3VudH1cbvCfk4UgRGF0YSBBZ2VuZGFkYTogJHtuZXcgRGF0ZShzY2hlZHVsZWREYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoInB0LUJSIil9JHtvYnNlcnZhdGlvbnMgPyBgXG7wn5OdIE9ic2VydmHDp8O1ZXM6ICR7b2JzZXJ2YXRpb25zfWAgOiAiIn1gDQoNCiAgICAgICAgYXdhaXQgZmV0Y2god2ViaG9va1VybCwgew0KICAgICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgfSwNCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLA0KICAgICAgICAgIH0pLA0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0gY2F0Y2ggKHdlYmhvb2tFcnJvcikgew0KICAgICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBlbnZpYXIgd2ViaG9vazoiLCB3ZWJob29rRXJyb3IpDQogICAgICAvLyBOw6NvIGZhbGhhciBvIHByb2Nlc3NvIHByaW5jaXBhbCBzZSBvIHdlYmhvb2sgZmFsaGFyDQogICAgfQ0KDQogICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG5ld1JlY2VpdmluZykNCiAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGNyaWFyIHJlY2ViaW1lbnRvOiIsIGVycm9yKQ0KICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAiRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yIiB9LCB7IHN0YXR1czogNTAwIH0pDQogIH0NCn0K"}