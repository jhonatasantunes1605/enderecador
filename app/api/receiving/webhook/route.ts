{"data":"aW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAibmV4dC9zZXJ2ZXIiDQoNCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7DQogIHRyeSB7DQogICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpDQogICAgY29uc3QgeyBuZiwgc3VwcGxpZXIsIHBhbGxldENvdW50LCBhZGRyZXNzLCBzY2hlZHVsZWREYXRlLCBzdGF0dXMsIHJlY2VpdmVkQXQgfSA9IGJvZHkNCg0KICAgIC8vIFVSTCBkbyB3ZWJob29rIGRvIEdvb2dsZSBDaGF0IChkZXZlIHNlciBjb25maWd1cmFkYSBjb21vIHZhcmnDoXZlbCBkZSBhbWJpZW50ZSkNCiAgICBjb25zdCB3ZWJob29rVXJsID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NIQVRfV0VCSE9PS19VUkwNCg0KICAgIGlmICghd2ViaG9va1VybCkgew0KICAgICAgY29uc29sZS53YXJuKCJHT09HTEVfQ0hBVF9XRUJIT09LX1VSTCBuw6NvIGNvbmZpZ3VyYWRhIikNCiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICJXZWJob29rIG7Do28gY29uZmlndXJhZG8iIH0sIHsgc3RhdHVzOiAyMDAgfSkNCiAgICB9DQoNCiAgICBsZXQgbWVzc2FnZSA9ICIiDQoNCiAgICBpZiAoc3RhdHVzID09PSAicmVjZWl2ZWQiKSB7DQogICAgICBtZXNzYWdlID0gYOKchSBSZWNlYmltZW50byBDb25jbHXDrWRvXG5cbvCfk4sgTkY6ICR7bmZ9XG7wn4+iIEZvcm5lY2Vkb3I6ICR7c3VwcGxpZXJ9XG7wn5OmIFBhbGV0ZXM6ICR7cGFsbGV0Q291bnR9XG7wn5ONIEVuZGVyZcOnbzogJHthZGRyZXNzfVxu8J+VkCBSZWNlYmlkbyBlbTogJHtuZXcgRGF0ZShyZWNlaXZlZEF0KS50b0xvY2FsZVN0cmluZygicHQtQlIiKX1gDQoNCiAgICAgIC8vIEVudmlhciBwYXJhIG8gR29vZ2xlIENoYXQNCiAgICAgIGNvbnN0IGNoYXRSZXNwb25zZSA9IGF3YWl0IGZldGNoKHdlYmhvb2tVcmwsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICB9LA0KICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgdGV4dDogbWVzc2FnZSwNCiAgICAgICAgfSksDQogICAgICB9KQ0KDQogICAgICBpZiAoIWNoYXRSZXNwb25zZS5vaykgew0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm8gYW8gZW52aWFyIHBhcmEgR29vZ2xlIENoYXQ6ICR7Y2hhdFJlc3BvbnNlLnN0YXR1c1RleHR9YCkNCiAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAiTm90aWZpY2HDp8OjbyBlbnZpYWRhIGNvbSBzdWNlc3NvIiB9KQ0KICB9IGNhdGNoIChlcnJvcikgew0KICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZW52aWFyIHdlYmhvb2s6IiwgZXJyb3IpDQogICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICJFcnJvIGFvIGVudmlhciBub3RpZmljYcOnw6NvIiB9LCB7IHN0YXR1czogNTAwIH0pDQogIH0NCn0K"}