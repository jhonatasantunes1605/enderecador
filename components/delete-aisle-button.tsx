{"data":"InVzZSBjbGllbnQiCgppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICJyZWFjdCIKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICJyZWFjdCIKaW1wb3J0IHsgdXNlQWN0aW9uU3RhdGUgfSBmcm9tICJyZWFjdCIKaW1wb3J0IHsgdXNlRm9ybVN0YXR1cyB9IGZyb20gInJlYWN0LWRvbSIKaW1wb3J0IHsgZGVsZXRlQWlzbGVBY3Rpb24gfSBmcm9tICJAL2FwcC9hY3Rpb25zIgppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gIm5leHQvbmF2aWdhdGlvbiIKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiIKaW1wb3J0IHsgVHJhc2gyLCBMb2FkZXIyIH0gZnJvbSAibHVjaWRlLXJlYWN0IgppbXBvcnQgeyB0b2FzdCB9IGZyb20gIkAvaG9va3MvdXNlLXRvYXN0IgppbXBvcnQgewogIEFsZXJ0RGlhbG9nLAogIEFsZXJ0RGlhbG9nQ2FuY2VsLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogIEFsZXJ0RGlhbG9nRm9vdGVyLAogIEFsZXJ0RGlhbG9nSGVhZGVyLAogIEFsZXJ0RGlhbG9nVGl0bGUsCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAp9IGZyb20gIkAvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2ciCmltcG9ydCB7IExvYWRpbmdPdmVybGF5IH0gZnJvbSAiLi9sb2FkaW5nLW92ZXJsYXkiCgppbnRlcmZhY2UgRGVsZXRlQWlzbGVCdXR0b25Qcm9wcyB7CiAgYWlzbGVJZDogc3RyaW5nCiAgYWlzbGVOYW1lOiBzdHJpbmcKICBwYWxsZXRDb3VudDogbnVtYmVyCiAgc2hlbGZDb3VudD86IG51bWJlcgp9CgpmdW5jdGlvbiBEZWxldGVGb3JtQnV0dG9uKHsgZm9ybUFjdGlvbiwgcGVuZGluZyB9OiB7IGZvcm1BY3Rpb246IGFueTsgcGVuZGluZzogYm9vbGVhbiB9KSB7CiAgcmV0dXJuICgKICAgIDxCdXR0b24KICAgICAgdHlwZT0ic3VibWl0IgogICAgICB2YXJpYW50PSJkZXN0cnVjdGl2ZSIKICAgICAgZGlzYWJsZWQ9e3BlbmRpbmd9CiAgICAgIGNsYXNzTmFtZT0idy1mdWxsIGJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCBkYXJrOmJnLXJlZC02MDAgZGFyazpob3ZlcjpiZy1yZWQtNzAwIHRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIgogICAgPgogICAgICB7cGVuZGluZyA/ICgKICAgICAgICA8PgogICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yIiAvPgogICAgICAgICAgRXhjbHVpbmRvLi4uCiAgICAgICAgPC8+CiAgICAgICkgOiAoCiAgICAgICAgIkNvbmZpcm1hciBFeGNsdXPDo28iCiAgICAgICl9CiAgICA8L0J1dHRvbj4KICApCn0KCmV4cG9ydCBmdW5jdGlvbiBEZWxldGVBaXNsZUJ1dHRvbih7IGFpc2xlSWQsIGFpc2xlTmFtZSwgcGFsbGV0Q291bnQsIHNoZWxmQ291bnQgPSAwIH06IERlbGV0ZUFpc2xlQnV0dG9uUHJvcHMpIHsKICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpCiAgY29uc3QgW2lzUHJvY2Vzc2luZywgc2V0SXNQcm9jZXNzaW5nXSA9IHVzZVN0YXRlKGZhbHNlKQogIGNvbnN0IFtzdGF0ZSwgZm9ybUFjdGlvbl0gPSB1c2VBY3Rpb25TdGF0ZShkZWxldGVBaXNsZUFjdGlvbi5iaW5kKG51bGwsIGFpc2xlSWQpLCB7CiAgICBtZXNzYWdlOiAiIiwKICAgIHN1Y2Nlc3M6IGZhbHNlLAogIH0pCiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCkKICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKQogIGNvbnN0IHsgcGVuZGluZyB9ID0gdXNlRm9ybVN0YXR1cygpCiAgY29uc3QgdG90YWxJdGVtcyA9IHBhbGxldENvdW50ICsgc2hlbGZDb3VudAoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHN0YXRlLm1lc3NhZ2UpIHsKICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKQogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6IHN0YXRlLm1lc3NhZ2UsCiAgICAgICAgdmFyaWFudDogc3RhdGUuc3VjY2VzcyA/ICJkZWZhdWx0IiA6ICJkZXN0cnVjdGl2ZSIsCiAgICAgIH0pCiAgICAgIGlmIChzdGF0ZS5zdWNjZXNzKSB7CiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKQogICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCkpCiAgICAgICAgcGFyYW1zLmRlbGV0ZSgic2VsZWN0ZWRBaXNsZSIpCiAgICAgICAgcGFyYW1zLmRlbGV0ZSgiaGlnaGxpZ2h0IikKICAgICAgICBwYXJhbXMuZGVsZXRlKCJ0eXBlIikKICAgICAgICBjb25zdCBuZXdVcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YAogICAgICAgIHJvdXRlci5yZXBsYWNlKG5ld1VybCwgeyBzY3JvbGw6IGZhbHNlIH0pCiAgICAgICAgcm91dGVyLnJlZnJlc2goKQogICAgICB9CiAgICB9CiAgfSwgW3N0YXRlXSkKCiAgY29uc3QgaGFuZGxlVHJpZ2dlckNsaWNrID0gKCkgPT4gewogICAgc2V0SXNPcGVuKHRydWUpCiAgfQoKICBjb25zdCBoYW5kbGVGb3JtU3VibWl0ID0gKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSkKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGUudGFyZ2V0IGFzIEhUTUxGb3JtRWxlbWVudCkKICAgIGZvcm1BY3Rpb24oZm9ybURhdGEpCiAgfQoKICByZXR1cm4gKAogICAgPD4KICAgICAgPEFsZXJ0RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PgogICAgICAgIDxBbGVydERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAgdmFyaWFudD0iZ2hvc3QiCiAgICAgICAgICAgIHNpemU9Imljb24iCiAgICAgICAgICAgIGNsYXNzTmFtZT0iaC02IHctNiBwLTAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOnRleHQtcmVkLTUwMCBkYXJrOmhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgaG92ZXI6YmctcmVkLTUwIGRhcms6aG92ZXI6YmctcmVkLTkwMC8yMCByb3VuZGVkLW1kIgogICAgICAgICAgICBhcmlhLWxhYmVsPSJFeGNsdWlyIFJ1YSIKICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVHJpZ2dlckNsaWNrfQogICAgICAgICAgPgogICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvQWxlcnREaWFsb2dUcmlnZ2VyPgogICAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPSJzbTptYXgtdy1bNDI1cHhdIGJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBzaGFkb3ctbGciPgogICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyIGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDAiPgogICAgICAgICAgICAgIEV4Y2x1aXIgUnVhICJ7YWlzbGVOYW1lfSIKICAgICAgICAgICAgPC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICA8QWxlcnREaWFsb2dEZXNjcmlwdGlvbiBjbGFzc05hbWU9InRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgc3BhY2UteS0zIj4KICAgICAgICAgICAgICA8cD5Fc3RhIGHDp8OjbyBuw6NvIHBvZGUgc2VyIGRlc2ZlaXRhLiBJc3NvIGV4Y2x1aXLDoSBwZXJtYW5lbnRlbWVudGU6PC9wPgogICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9Imxpc3QtZGlzYyBsaXN0LWluc2lkZSBzcGFjZS15LTEgbWwtMiI+CiAgICAgICAgICAgICAgICA8bGk+QSBydWEgInthaXNsZU5hbWV9IjwvbGk+CiAgICAgICAgICAgICAgICB7cGFsbGV0Q291bnQgPiAwICYmIDxsaT57cGFsbGV0Q291bnR9IHBhbGV0ZShzKSBlIHNldXMgcHJvZHV0b3M8L2xpPn0KICAgICAgICAgICAgICAgIHtzaGVsZkNvdW50ID4gMCAmJiA8bGk+e3NoZWxmQ291bnR9IHByYXRlbGVpcmEocykgZSBzZXVzIHByb2R1dG9zPC9saT59CiAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICB7dG90YWxJdGVtcyA+IDAgJiYgKAogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LW1lZGl1bSB0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAgYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCBwLTIgcm91bmRlZC1tZCI+CiAgICAgICAgICAgICAgICAgIFRvdGFsIGRlIHt0b3RhbEl0ZW1zfSBpdGVtKHMpIHNlcsOhKMOjbykgcGVyZGlkbyhzKSBwZXJtYW5lbnRlbWVudGUuCiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ0Zvb3RlciBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wtcmV2ZXJzZSBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWVuZCBzbTpzcGFjZS14LTIgZ2FwLTIgcHQtNCI+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbCBjbGFzc05hbWU9InctZnVsbCBzbTp3LWF1dG8gYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgaG92ZXI6YmctZ3JheS0yMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAiPgogICAgICAgICAgICAgIENhbmNlbGFyCiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dDYW5jZWw+CiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVGb3JtU3VibWl0fSBjbGFzc05hbWU9InctZnVsbCBzbTp3LWF1dG8iPgogICAgICAgICAgICAgIDxEZWxldGVGb3JtQnV0dG9uIGZvcm1BY3Rpb249e2Zvcm1BY3Rpb259IHBlbmRpbmc9e3BlbmRpbmcgfHwgaXNQcm9jZXNzaW5nfSAvPgogICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICA8L0FsZXJ0RGlhbG9nPgoKICAgICAgPExvYWRpbmdPdmVybGF5CiAgICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9CiAgICAgICAgbWVzc2FnZT17c3RhdGUuc3VjY2VzcyA/ICJBdHVhbGl6YW5kbyBpbnRlcmZhY2UuLi4iIDogIlByb2Nlc3NhbmRvIGV4Y2x1c8Ojby4uLiJ9CiAgICAgIC8+CiAgICA8Lz4KICApCn0K"}