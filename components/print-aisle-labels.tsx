{"data":"InVzZSBjbGllbnQiCgppbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gInJlYWN0IgppbXBvcnQgSnNCYXJjb2RlIGZyb20gImpzYmFyY29kZSIKCmludGVyZmFjZSBBaXNsZUxhYmVsRGF0YSB7CiAgaWQ6IHN0cmluZwogIHR5cGU6ICJwYWxsZXQiIHwgInNoZWxmIgogIHdhcmVob3VzZU5hbWU6IHN0cmluZwogIGFpc2xlTmFtZTogc3RyaW5nCiAgcG9zaXRpb246IG51bWJlcgogIGxldmVsPzogbnVtYmVyCiAgYWRkcmVzczogc3RyaW5nCiAgYmFyY29kZTogc3RyaW5nCn0KCmludGVyZmFjZSBQcmludEFpc2xlTGFiZWxzUHJvcHMgewogIGxhYmVsczogQWlzbGVMYWJlbERhdGFbXQp9CgpleHBvcnQgZnVuY3Rpb24gUHJpbnRBaXNsZUxhYmVscyh7IGxhYmVscyB9OiBQcmludEFpc2xlTGFiZWxzUHJvcHMpIHsKICBjb25zdCBjYW52YXNSZWZzID0gdXNlUmVmPHsgW2tleTogc3RyaW5nXTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsIH0+KHt9KQoKICBjb25zdCBnZW5lcmF0ZUJhcmNvZGUgPSAoYWRkcmVzczogc3RyaW5nLCBjYW52YXNJZDogc3RyaW5nKSA9PiB7CiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWZzLmN1cnJlbnRbY2FudmFzSWRdCiAgICBpZiAoY2FudmFzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgYmFyY29kZURhdGEgPSBhZGRyZXNzLnJlcGxhY2UoL1teQS1aMC05XS9nLCAiIikKICAgICAgICBKc0JhcmNvZGUoY2FudmFzLCBiYXJjb2RlRGF0YSwgewogICAgICAgICAgZm9ybWF0OiAiQ09ERTEyOCIsCiAgICAgICAgICB3aWR0aDogMS44LAogICAgICAgICAgaGVpZ2h0OiAyNSwKICAgICAgICAgIGRpc3BsYXlWYWx1ZTogZmFsc2UsCiAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAiI2ZmZmZmZiIsCiAgICAgICAgICBsaW5lQ29sb3I6ICIjMDAwMDAwIiwKICAgICAgICB9KQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZ2VyYXIgY8OzZGlnbyBkZSBiYXJyYXM6IiwgZXJyb3IpCiAgICAgIH0KICAgIH0KICB9CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBsYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHsKICAgICAgY29uc3QgY2FudmFzSWQgPSBgYmFyY29kZS0ke2xhYmVsLmlkfWAKICAgICAgc2V0VGltZW91dCgoKSA9PiBnZW5lcmF0ZUJhcmNvZGUobGFiZWwuYWRkcmVzcywgY2FudmFzSWQpLCAyMDApCiAgICB9KQogIH0sIFtsYWJlbHNdKQoKICByZXR1cm4gKAogICAgPD4KICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2AKICAgICAgICBAbWVkaWEgcHJpbnQgewogICAgICAgICAgLyogT2N1bHRhciB0dWRvIGV4Y2V0byBhcyBldGlxdWV0YXMgZHVyYW50ZSBhIGltcHJlc3PDo28gKi8KICAgICAgICAgIGJvZHkgKiB7CiAgICAgICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgLnByaW50LWxhYmVscy1jb250YWluZXIsCiAgICAgICAgICAucHJpbnQtbGFiZWxzLWNvbnRhaW5lciAqIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTsKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgLyogR2FyYW50aXIgcXVlIG8gbW9kYWwgb2N1cGUgdG9kYSBhIHDDoWdpbmEgbmEgaW1wcmVzc8OjbyAqLwogICAgICAgICAgW3JvbGU9ImRpYWxvZyJdIHsKICAgICAgICAgICAgcG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50OwogICAgICAgICAgICB0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgbWF4LXdpZHRoOiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50OwogICAgICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDsKICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50OwogICAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICAvKiBPY3VsdGFyIG92ZXJsYXkgZG8gbW9kYWwgKi8KICAgICAgICAgIFtkYXRhLXJhZGl4LXBvcHBlci1jb250ZW50LXdyYXBwZXJdIHsKICAgICAgICAgICAgcG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBAcGFnZSB7CiAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICBzaXplOiA5MG1tIDUwbW07IC8vIFVwZGF0ZWQgZnJvbSA0NW1tIHRvIDUwbW0gaGVpZ2h0CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIExheW91dCBuYSB0ZWxhIChwcsOpLXZpc3VhbGl6YcOnw6NvKSAqLwogICAgICAgIEBtZWRpYSBzY3JlZW4gewogICAgICAgICAgLnByaW50LWxhYmVscy1jb250YWluZXIgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgZ2FwOiAyMHB4OwogICAgICAgICAgfQoKICAgICAgICAgIC5wcmludC1sYWJlbCB7CiAgICAgICAgICAgIHdpZHRoOiAyNzBweDsKICAgICAgICAgICAgaGVpZ2h0OiAxNTBweDsgLy8gVXBkYXRlZCBmcm9tIDEzNXB4IHRvIDE1MHB4IHRvIG1hdGNoIDUwbW0gaGVpZ2h0CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOwogICAgICAgICAgfQoKICAgICAgICAgIC5wcmludC1sYWJlbC10b3AgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICB9CgogICAgICAgICAgLnByaW50LWxhYmVsLW1pZGRsZSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7IC8vIEluY3JlYXNlZCBmcm9tIDM1cHggdG8gNDBweCBmb3IgYmV0dGVyIHByb3BvcnRpb24KICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbjogNXB4IDA7CiAgICAgICAgICB9CgogICAgICAgICAgLnByaW50LWxhYmVsLWJvdHRvbSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgIH0KCiAgICAgICAgICAucGFsbGV0LWhlYWRlciB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGNvbG9yOiAjMDAwOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS4yOwogICAgICAgICAgfQoKICAgICAgICAgIC5zaGVsZi1hZGRyZXNzIHsKICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7CiAgICAgICAgICB9CgogICAgICAgICAgLmZ1bGwtYWRkcmVzcyB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGNvbG9yOiAjMDAwOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS4yOwogICAgICAgICAgfQoKICAgICAgICAgIC5oaWdobGlnaHQgewogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzczogMnB4OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLyogTGF5b3V0IG5hIGltcHJlc3PDo28gKi8KICAgICAgICBAbWVkaWEgcHJpbnQgewogICAgICAgICAgYm9keSAqIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuOwogICAgICAgICAgfQogICAgICAgICAgLnByaW50LWxhYmVscy1jb250YWluZXIsCiAgICAgICAgICAucHJpbnQtbGFiZWxzLWNvbnRhaW5lciAqIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTsKICAgICAgICAgIH0KICAgICAgICAgIC5wcmludC1sYWJlbHMtY29udGFpbmVyIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgfQoKICAgICAgICAgIC5wcmludC1sYWJlbCB7CiAgICAgICAgICAgIHdpZHRoOiA5MG1tOwogICAgICAgICAgICBoZWlnaHQ6IDUwbW07IC8vIFVwZGF0ZWQgZnJvbSA0NW1tIHRvIDUwbW0gaGVpZ2h0CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogNG1tOyAvLyBJbmNyZWFzZWQgcGFkZGluZyBmcm9tIDNtbSB0byA0bW0gZm9yIGJldHRlciBzcGFjaW5nCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWdlLWJyZWFrLWFmdGVyOiBhbHdheXM7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgIH0KCiAgICAgICAgICAucHJpbnQtbGFiZWwtdG9wIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgfQoKICAgICAgICAgIC5wcmludC1sYWJlbC1taWRkbGUgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMG1tOyAvLyBJbmNyZWFzZWQgZnJvbSA4bW0gdG8gMTBtbSBmb3IgYmV0dGVyIGJhcmNvZGUgdmlzaWJpbGl0eQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luOiAxbW0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICAucHJpbnQtbGFiZWwtYm90dG9tIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgfQoKICAgICAgICAgIC5wYWxsZXQtaGVhZGVyIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB0OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7CiAgICAgICAgICB9CgogICAgICAgICAgLnNoZWxmLWFkZHJlc3MgewogICAgICAgICAgICBmb250LXNpemU6IDE2cHQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMjsKICAgICAgICAgIH0KCiAgICAgICAgICAuZnVsbC1hZGRyZXNzIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB0OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7CiAgICAgICAgICB9CgogICAgICAgICAgLmhpZ2hsaWdodCB7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzOiAycHg7CiAgICAgICAgICB9CgogICAgICAgICAgLnByaW50LWxhYmVsLW1pZGRsZSBjYW52YXMgewogICAgICAgICAgICBtYXgtd2lkdGg6IDgwbW07CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEwbW07IC8vIFVwZGF0ZWQgZnJvbSA4bW0gdG8gMTBtbSB0byBtYXRjaCBuZXcgbWlkZGxlIGhlaWdodAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgYH08L3N0eWxlPgoKICAgICAgPGRpdiBjbGFzc05hbWU9InByaW50LWxhYmVscy1jb250YWluZXIiPgogICAgICAgIHtsYWJlbHMubWFwKChsYWJlbCkgPT4gewogICAgICAgICAgY29uc3QgY2FudmFzSWQgPSBgYmFyY29kZS0ke2xhYmVsLmlkfWAKCiAgICAgICAgICAvLyBFeHRyYWlyIG7Dum1lcm9zIGRvIGdhbHDDo28gZSBydWEKICAgICAgICAgIGNvbnN0IHdhcmVob3VzZU51bWJlciA9IGxhYmVsLndhcmVob3VzZU5hbWUubWF0Y2goLyhcZCspLyk/LlsxXSB8fCAiPyIKICAgICAgICAgIGNvbnN0IGFpc2xlTnVtYmVyID0gbGFiZWwuYWlzbGVOYW1lLnJlcGxhY2UoL1xEL2csICIiKSB8fCBsYWJlbC5haXNsZU5hbWUKCiAgICAgICAgICBpZiAobGFiZWwudHlwZSA9PT0gInBhbGxldCIpIHsKICAgICAgICAgICAgLy8gTGF5b3V0IHBhcmEgUEFMRVRFUzogUnVhIGUgUGFsZXRlIG5vIHRvcG8sIGPDs2RpZ28gZGUgYmFycmFzIG5vIG1laW8sIGVuZGVyZcOnbyBjb21wbGV0byBlbWJhaXhvCiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e2xhYmVsLmlkfSBjbGFzc05hbWU9InByaW50LWxhYmVsIj4KICAgICAgICAgICAgICAgIHsvKiBUT1BPOiBSdWEgZSBQYWxldGUgZW0gZXZpZMOqbmNpYSAqL30KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwcmludC1sYWJlbC10b3AiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icGFsbGV0LWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgUnVhIHthaXNsZU51bWJlcn0gLSBQYWxldGUge2xhYmVsLnBvc2l0aW9ufQogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIHsvKiBNRUlPOiBDw7NkaWdvIGRlIGJhcnJhcyAqL30KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwcmludC1sYWJlbC1taWRkbGUiPgogICAgICAgICAgICAgICAgICA8Y2FudmFzIHJlZj17KGVsKSA9PiAoY2FudmFzUmVmcy5jdXJyZW50W2NhbnZhc0lkXSA9IGVsKX0gLz4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIHsvKiBFTUJBSVhPOiBFbmRlcmXDp28gY29tcGxldG8gY29tIFAgZGVzdGFjYWRvICovfQogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InByaW50LWxhYmVsLWJvdHRvbSI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmdWxsLWFkZHJlc3MiPgogICAgICAgICAgICAgICAgICAgIEF7d2FyZWhvdXNlTnVtYmVyfSZndDtSe2Fpc2xlTnVtYmVyfSZndDs8c3BhbiBjbGFzc05hbWU9ImhpZ2hsaWdodCI+UHtsYWJlbC5wb3NpdGlvbn08L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIExheW91dCBwYXJhIFBSQVRFTEVJUkFTOiBFbmRlcmXDp28gY29tcGxldG8gbm8gdG9wbyBjb20gUC1BIGRlc3RhY2FkbywgY8OzZGlnbyBkZSBiYXJyYXMgZW1iYWl4bwogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtsYWJlbC5pZH0gY2xhc3NOYW1lPSJwcmludC1sYWJlbCI+CiAgICAgICAgICAgICAgICB7LyogVE9QTzogRW5kZXJlw6dvIGNvbXBsZXRvIGNvbSBQLUEgZW0gZXZpZMOqbmNpYSAqL30KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwcmludC1sYWJlbC10b3AiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic2hlbGYtYWRkcmVzcyI+CiAgICAgICAgICAgICAgICAgICAgQXt3YXJlaG91c2VOdW1iZXJ9Jmd0O1J7YWlzbGVOdW1iZXJ9Jmd0OwogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iaGlnaGxpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgIFB7bGFiZWwucG9zaXRpb259LUF7bGFiZWwubGV2ZWx9CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIHsvKiBFTUJBSVhPOiBDw7NkaWdvIGRlIGJhcnJhcyAqL30KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwcmludC1sYWJlbC1taWRkbGUiPgogICAgICAgICAgICAgICAgICA8Y2FudmFzIHJlZj17KGVsKSA9PiAoY2FudmFzUmVmcy5jdXJyZW50W2NhbnZhc0lkXSA9IGVsKX0gLz4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIHsvKiBFc3Bhw6dvIHZhemlvIHBhcmEgbWFudGVyIHByb3BvcsOnw6NvICovfQogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InByaW50LWxhYmVsLWJvdHRvbSI+PC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkKICAgICAgICAgIH0KICAgICAgICB9KX0KICAgICAgPC9kaXY+CiAgICA8Lz4KICApCn0KCmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUFpc2xlTGFiZWxzRGF0YShhaXNsZTogYW55LCB3YXJlaG91c2VOYW1lOiBzdHJpbmcpOiBBaXNsZUxhYmVsRGF0YVtdIHsKICBjb25zdCBsYWJlbHM6IEFpc2xlTGFiZWxEYXRhW10gPSBbXQoKICBpZiAoIWFpc2xlLnBhbGxldHMpIHJldHVybiBsYWJlbHMKCiAgY29uc3Qgd2FyZWhvdXNlTnVtYmVyID0gd2FyZWhvdXNlTmFtZS5tYXRjaCgvKFxkKykvKT8uWzFdIHx8ICI/IgogIGNvbnN0IGFpc2xlTnVtYmVyID0gYWlzbGUubmFtZS5yZXBsYWNlKC9cRC9nLCAiIikgfHwgYWlzbGUubmFtZQoKICBmb3IgKGNvbnN0IGl0ZW0gb2YgYWlzbGUucGFsbGV0cykgewogICAgY29uc3QgYWRkcmVzcyA9CiAgICAgIGFpc2xlLnN0b3JhZ2VUeXBlID09PSAic2hlbGYiCiAgICAgICAgPyBgQSR7d2FyZWhvdXNlTnVtYmVyfT5SJHthaXNsZU51bWJlcn0+UCR7aXRlbS5wb3NpdGlvbn0+QSR7aXRlbS5sZXZlbH1gCiAgICAgICAgOiBgQSR7d2FyZWhvdXNlTnVtYmVyfT5SJHthaXNsZU51bWJlcn0+UCR7aXRlbS5wb3NpdGlvbn1gCgogICAgY29uc3QgYmFyY29kZSA9IGFkZHJlc3MucmVwbGFjZSgvW15BLVowLTldL2csICIiKQoKICAgIGxhYmVscy5wdXNoKHsKICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgIHR5cGU6IGFpc2xlLnN0b3JhZ2VUeXBlLAogICAgICB3YXJlaG91c2VOYW1lLAogICAgICBhaXNsZU5hbWU6IGFpc2xlLm5hbWUsCiAgICAgIHBvc2l0aW9uOiBpdGVtLnBvc2l0aW9uLAogICAgICBsZXZlbDogaXRlbS5sZXZlbCwKICAgICAgYWRkcmVzcywKICAgICAgYmFyY29kZSwKICAgIH0pCiAgfQoKICByZXR1cm4gbGFiZWxzLnNvcnQoKGEsIGIpID0+IHsKICAgIGlmIChhLnBvc2l0aW9uICE9PSBiLnBvc2l0aW9uKSB7CiAgICAgIHJldHVybiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvbgogICAgfQogICAgcmV0dXJuIChhLmxldmVsIHx8IDApIC0gKGIubGV2ZWwgfHwgMCkKICB9KQp9Cg=="}