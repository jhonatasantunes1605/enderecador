{"data":"InVzZSBjbGllbnQiCgppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICJyZWFjdCIKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICJyZWFjdCIKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAibmV4dC9uYXZpZ2F0aW9uIgppbXBvcnQgeyBTaGVsZkl0ZW0gfSBmcm9tICIuL3NoZWxmLWl0ZW0iCmltcG9ydCB7IEFzc2lnblByb2R1Y3RUb1NoZWxmRm9ybUVuaGFuY2VkIH0gZnJvbSAiLi9hc3NpZ24tcHJvZHVjdC10by1zaGVsZi1mb3JtLWVuaGFuY2VkIgppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYnV0dG9uIgppbXBvcnQgeyBDaGV2cm9uRG93biwgQ2hldnJvblJpZ2h0LCBUcmFzaDIsIFBsdXMsIEJydXNoIH0gZnJvbSAibHVjaWRlLXJlYWN0IgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgppbXBvcnQgeyB1c2VBY3Rpb25TdGF0ZSB9IGZyb20gInJlYWN0IgppbXBvcnQgeyBkZWxldGVTaGVsZkFjdGlvbiwgYWRkU2luZ2xlU2hlbGZBY3Rpb24sIGNsZWFyU2hlbGZQb3NpdGlvblByb2R1Y3RzIH0gZnJvbSAiQC9hcHAvYWN0aW9ucyIKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJAL2hvb2tzL3VzZS10b2FzdCIKaW1wb3J0IHsgQ29uZmlybWF0aW9uTW9kYWwsIEZvcm1Nb2RhbCB9IGZyb20gIi4vbW9kYWwtbGF5b3V0IgoKaW50ZXJmYWNlIFNoZWxmIHsKICBpZDogc3RyaW5nCiAgcG9zaXRpb246IG51bWJlcgogIGxldmVsOiBudW1iZXIKICBlYW46IHN0cmluZyB8IG51bGwKICBwcm9kdWN0TmFtZTogc3RyaW5nIHwgbnVsbAogIG9jY3VwYW5jeVBlcmNlbnRhZ2U6IG51bWJlcgogIGxhc3RWZXJpZmllZDogRGF0ZSB8IG51bGwKfQoKaW50ZXJmYWNlIEFpc2xlU2hlbGZMaXN0UHJvcHMgewogIGFpc2xlSWQ6IHN0cmluZwogIGluaXRpYWxTaGVsdmVzOiBTaGVsZltdCiAgZHVwbGljYXRlZEVBTnM6IFNldDxzdHJpbmc+CiAgc2VsZWN0ZWRJdGVtcz86IFNldDxzdHJpbmc+CiAgb25TZWxlY3Rpb25DaGFuZ2U/OiAoaWQ6IHN0cmluZywgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQKICBoaWdobGlnaHRlZEl0ZW0/OiBzdHJpbmcgfCBudWxsCiAgd2FyZWhvdXNlTmFtZT86IHN0cmluZwogIGFpc2xlTmFtZT86IHN0cmluZwp9CgpmdW5jdGlvbiBEZWxldGVTaGVsZkJ1dHRvbih7IGZpcnN0U2hlbGZJZCwgcG9zaXRpb24gfTogeyBmaXJzdFNoZWxmSWQ6IHN0cmluZzsgcG9zaXRpb246IG51bWJlciB9KSB7CiAgY29uc3QgW3N0YXRlLCBmb3JtQWN0aW9uXSA9IHVzZUFjdGlvblN0YXRlKGRlbGV0ZVNoZWxmQWN0aW9uLmJpbmQobnVsbCwgZmlyc3RTaGVsZklkKSwgewogICAgbWVzc2FnZTogIiIsCiAgICBzdWNjZXNzOiBmYWxzZSwKICB9KQogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSkKICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpCiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCkKCiAgY29uc3Qgc2F2ZVNjcm9sbFBvc2l0aW9uID0gKCkgPT4gewogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgic2Nyb2xsUG9zaXRpb24iLCB3aW5kb3cuc2Nyb2xsWS50b1N0cmluZygpKQogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgImV4cGFuZGVkUG9zaXRpb25zIiwKICAgICAgSlNPTi5zdHJpbmdpZnkoCiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1leHBhbmRlZD0idHJ1ZSJdJykpLm1hcCgoZWwpID0+IGVsLmdldEF0dHJpYnV0ZSgiZGF0YS1wb3NpdGlvbiIpKSwKICAgICAgKSwKICAgICkKICB9CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc3RhdGUubWVzc2FnZSkgewogICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpCiAgICAgIHRvYXN0KHsKICAgICAgICB0aXRsZTogc3RhdGUubWVzc2FnZSwKICAgICAgICB2YXJpYW50OiBzdGF0ZS5zdWNjZXNzID8gImRlZmF1bHQiIDogImRlc3RydWN0aXZlIiwKICAgICAgfSkKICAgICAgaWYgKHN0YXRlLnN1Y2Nlc3MpIHsKICAgICAgICBzZXRJc09wZW4oZmFsc2UpCiAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKCkKICAgICAgICByb3V0ZXIucmVmcmVzaCgpCgogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgY29uc3Qgc2F2ZWRQb3NpdGlvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNjcm9sbFBvc2l0aW9uIikKICAgICAgICAgIGNvbnN0IGV4cGFuZGVkUG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJleHBhbmRlZFBvc2l0aW9ucyIpIHx8ICJbXSIpCgogICAgICAgICAgaWYgKHNhdmVkUG9zaXRpb24pIHsKICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIE51bWJlci5wYXJzZUludChzYXZlZFBvc2l0aW9uKSkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgic2Nyb2xsUG9zaXRpb24iKQogICAgICAgICAgfQoKICAgICAgICAgIGV4cGFuZGVkUG9zaXRpb25zLmZvckVhY2goKHBvczogc3RyaW5nKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wb3NpdGlvbj0iJHtwb3N9Il1gKQogICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBwb3MgIT09IHBvc2l0aW9uLnRvU3RyaW5nKCkpIHsKICAgICAgICAgICAgICBlbGVtZW50LmNsaWNrKCkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImV4cGFuZGVkUG9zaXRpb25zIikKICAgICAgICB9LCAxMDApCiAgICAgIH0KICAgIH0KICB9LCBbc3RhdGUsIHJvdXRlciwgcG9zaXRpb25dKQoKICBjb25zdCBoYW5kbGVUcmlnZ2VyQ2xpY2sgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICBlLnN0b3BQcm9wYWdhdGlvbigpCiAgICBzZXRJc09wZW4odHJ1ZSkKICB9CgogIGNvbnN0IGhhbmRsZUNvbmZpcm0gPSBhc3luYyAoKSA9PiB7CiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSkKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgIGF3YWl0IGZvcm1BY3Rpb24oZm9ybURhdGEpCiAgfQoKICBjb25zdCBkZXNjcmlwdGlvbiA9ICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICA8cD4KICAgICAgICBFc3RhIGHDp8OjbyBuw6NvIHBvZGUgc2VyIGRlc2ZlaXRhLiBJc3NvIGV4Y2x1aXLDoSBwZXJtYW5lbnRlbWVudGUgYSBwcmF0ZWxlaXJhIHtwb3NpdGlvbn0gY29tIHRvZG9zIG9zIHNldXMgNAogICAgICAgIGFuZGFyZXMgZSB0b2RvcyBvcyBwcm9kdXRvcyBhcm1hemVuYWRvcyBuZWxlcy4KICAgICAgPC9wPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpib3JkZXItcmVkLTgwMCByb3VuZGVkLW1kIHAtMyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAiPgogICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0gdGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtNDAwIj4KICAgICAgICAgIFRvZG9zIG9zIHByb2R1dG9zIGVtIHRvZG9zIG9zIGFuZGFyZXMgZGVzdGEgcHJhdGVsZWlyYSBzZXLDo28gcGVyZGlkb3MgcGVybWFuZW50ZW1lbnRlLgogICAgICAgIDwvcD4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApCgogIHJldHVybiAoCiAgICA8Q29uZmlybWF0aW9uTW9kYWwKICAgICAgaXNPcGVuPXtpc09wZW59CiAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufQogICAgICB0cmlnZ2VyPXsKICAgICAgICA8QnV0dG9uCiAgICAgICAgICB2YXJpYW50PSJnaG9zdCIKICAgICAgICAgIHNpemU9Imljb24iCiAgICAgICAgICBjbGFzc05hbWU9ImgtNiB3LTYgcC0wIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1yZWQtNTAwIGRhcms6dGV4dC1ncmF5LTUwMCBkYXJrOmhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAiCiAgICAgICAgICBhcmlhLWxhYmVsPSJFeGNsdWlyIFByYXRlbGVpcmEgQ29tcGxldGEiCiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUcmlnZ2VyQ2xpY2t9CiAgICAgICAgPgogICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgPC9CdXR0b24+CiAgICAgIH0KICAgICAgdGl0bGU9e2BFeGNsdWlyIFByYXRlbGVpcmEgJHtwb3NpdGlvbn0gQ29tcGxldGFgfQogICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259CiAgICAgIGNvbmZpcm1UZXh0PSJFeGNsdWlyIFByYXRlbGVpcmEgQ29tcGxldGEiCiAgICAgIGNhbmNlbFRleHQ9IkNhbmNlbGFyIgogICAgICBpc0Rlc3RydWN0aXZlPXt0cnVlfQogICAgICBpc0xvYWRpbmc9e2lzUHJvY2Vzc2luZ30KICAgICAgbG9hZGluZ1RleHQ9e3N0YXRlLnN1Y2Nlc3MgPyAiQXR1YWxpemFuZG8gaW50ZXJmYWNlLi4uIiA6ICJFeGNsdWluZG8gcHJhdGVsZWlyYS4uLiJ9CiAgICAgIG9uQ29uZmlybT17aGFuZGxlQ29uZmlybX0KICAgIC8+CiAgKQp9CgpmdW5jdGlvbiBBZGRMZXZlbEJ1dHRvbih7IGFpc2xlSWQsIHBvc2l0aW9uIH06IHsgYWlzbGVJZDogc3RyaW5nOyBwb3NpdGlvbjogbnVtYmVyIH0pIHsKICBjb25zdCBbc3RhdGUsIGZvcm1BY3Rpb25dID0gdXNlQWN0aW9uU3RhdGUoYWRkU2luZ2xlU2hlbGZBY3Rpb24uYmluZChudWxsLCBhaXNsZUlkKSwgewogICAgbWVzc2FnZTogIiIsCiAgICBzdWNjZXNzOiBmYWxzZSwKICB9KQogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSkKICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpCiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCkKCiAgY29uc3Qgc2F2ZVNjcm9sbFBvc2l0aW9uID0gKCkgPT4gewogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgic2Nyb2xsUG9zaXRpb24iLCB3aW5kb3cuc2Nyb2xsWS50b1N0cmluZygpKQogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgImV4cGFuZGVkUG9zaXRpb25zIiwKICAgICAgSlNPTi5zdHJpbmdpZnkoCiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1leHBhbmRlZD0idHJ1ZSJdJykpLm1hcCgoZWwpID0+IGVsLmdldEF0dHJpYnV0ZSgiZGF0YS1wb3NpdGlvbiIpKSwKICAgICAgKSwKICAgICkKICB9CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc3RhdGUubWVzc2FnZSkgewogICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpCiAgICAgIHRvYXN0KHsKICAgICAgICB0aXRsZTogc3RhdGUubWVzc2FnZSwKICAgICAgICB2YXJpYW50OiBzdGF0ZS5zdWNjZXNzID8gImRlZmF1bHQiIDogImRlc3RydWN0aXZlIiwKICAgICAgfSkKICAgICAgaWYgKHN0YXRlLnN1Y2Nlc3MpIHsKICAgICAgICBzZXRJc09wZW4oZmFsc2UpCiAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKCkKICAgICAgICByb3V0ZXIucmVmcmVzaCgpCgogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgY29uc3Qgc2F2ZWRQb3NpdGlvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInNjcm9sbFBvc2l0aW9uIikKICAgICAgICAgIGNvbnN0IGV4cGFuZGVkUG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJleHBhbmRlZFBvc2l0aW9ucyIpIHx8ICJbXSIpCgogICAgICAgICAgaWYgKHNhdmVkUG9zaXRpb24pIHsKICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIE51bWJlci5wYXJzZUludChzYXZlZFBvc2l0aW9uKSkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgic2Nyb2xsUG9zaXRpb24iKQogICAgICAgICAgfQoKICAgICAgICAgIGV4cGFuZGVkUG9zaXRpb25zLmZvckVhY2goKHBvczogc3RyaW5nKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wb3NpdGlvbj0iJHtwb3N9Il1gKQogICAgICAgICAgICBpZiAoZWxlbWVudCkgewogICAgICAgICAgICAgIGVsZW1lbnQuY2xpY2soKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgiZXhwYW5kZWRQb3NpdGlvbnMiKQogICAgICAgIH0sIDEwMCkKICAgICAgfQogICAgfQogIH0sIFtzdGF0ZSwgcm91dGVyXSkKCiAgY29uc3QgaGFuZGxlVHJpZ2dlckNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHsKICAgIGUucHJldmVudERlZmF1bHQoKQogICAgZS5zdG9wUHJvcGFnYXRpb24oKQogICAgc2V0SXNPcGVuKHRydWUpCiAgfQoKICBjb25zdCBoYW5kbGVDb25maXJtID0gYXN5bmMgKCkgPT4gewogICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpCiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICBmb3JtRGF0YS5hcHBlbmQoInBvc2l0aW9uIiwgcG9zaXRpb24udG9TdHJpbmcoKSkKICAgIGZvcm1EYXRhLmFwcGVuZCgiYWRkRXh0cmFMZXZlbCIsICJ0cnVlIikKICAgIGF3YWl0IGZvcm1BY3Rpb24oZm9ybURhdGEpCiAgfQoKICBjb25zdCBkZXNjcmlwdGlvbiA9ICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICA8cD5Jc3NvIGFkaWNpb25hcsOhIHVtIGFuZGFyIGV4dHJhIMOgIHByYXRlbGVpcmEge3Bvc2l0aW9ufSwgaWdub3JhbmRvIG8gbGltaXRlIGNvbmZpZ3VyYWRvIGRlIGFuZGFyZXMuPC9wPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDAgcm91bmRlZC1tZCBwLTMgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIj4KICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwIj4KICAgICAgICAgIE8gbm92byBhbmRhciBzZXLDoSBjcmlhZG8gdmF6aW8gZSBwcm9udG8gcGFyYSByZWNlYmVyIHByb2R1dG9zLgogICAgICAgIDwvcD4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApCgogIHJldHVybiAoCiAgICA8Q29uZmlybWF0aW9uTW9kYWwKICAgICAgaXNPcGVuPXtpc09wZW59CiAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufQogICAgICB0cmlnZ2VyPXsKICAgICAgICA8QnV0dG9uCiAgICAgICAgICB2YXJpYW50PSJnaG9zdCIKICAgICAgICAgIHNpemU9Imljb24iCiAgICAgICAgICBjbGFzc05hbWU9ImgtNiB3LTYgcC0wIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmVlbi01MDAgZGFyazp0ZXh0LWdyYXktNTAwIGRhcms6aG92ZXI6dGV4dC1ncmVlbi00MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIgogICAgICAgICAgYXJpYS1sYWJlbD0iQWRpY2lvbmFyIEFuZGFyIEV4dHJhIgogICAgICAgICAgb25DbGljaz17aGFuZGxlVHJpZ2dlckNsaWNrfQogICAgICAgID4KICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICA8L0J1dHRvbj4KICAgICAgfQogICAgICB0aXRsZT17YEFkaWNpb25hciBBbmRhciBFeHRyYSAtIFByYXRlbGVpcmEgJHtwb3NpdGlvbn1gfQogICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259CiAgICAgIGNvbmZpcm1UZXh0PSJBZGljaW9uYXIgQW5kYXIiCiAgICAgIGNhbmNlbFRleHQ9IkNhbmNlbGFyIgogICAgICBpc0Rlc3RydWN0aXZlPXtmYWxzZX0KICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9CiAgICAgIGxvYWRpbmdUZXh0PXtzdGF0ZS5zdWNjZXNzID8gIkF0dWFsaXphbmRvIGludGVyZmFjZS4uLiIgOiAiQWRpY2lvbmFuZG8gYW5kYXIuLi4ifQogICAgICBvbkNvbmZpcm09e2hhbmRsZUNvbmZpcm19CiAgICAvPgogICkKfQoKZnVuY3Rpb24gU2hlbGZDbGVhckJ1dHRvbih7IGFpc2xlSWQsIHBvc2l0aW9uIH06IHsgYWlzbGVJZDogc3RyaW5nOyBwb3NpdGlvbjogbnVtYmVyIH0pIHsKICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpCiAgY29uc3QgW2lzUHJvY2Vzc2luZywgc2V0SXNQcm9jZXNzaW5nXSA9IHVzZVN0YXRlKGZhbHNlKQogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpCgogIGNvbnN0IGhhbmRsZVRyaWdnZXJDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7CiAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkKICAgIHNldElzT3Blbih0cnVlKQogIH0KCiAgY29uc3QgaGFuZGxlQ29uZmlybSA9IGFzeW5jICgpID0+IHsKICAgIHNldElzUHJvY2Vzc2luZyh0cnVlKQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xlYXJTaGVsZlBvc2l0aW9uUHJvZHVjdHMoYWlzbGVJZCwgcG9zaXRpb24pCiAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpCiAgICBzZXRJc09wZW4oZmFsc2UpCiAgICB0b2FzdCh7IHRpdGxlOiByZXN1bHQubWVzc2FnZSwgdmFyaWFudDogcmVzdWx0LnN1Y2Nlc3MgPyAiZGVmYXVsdCIgOiAiZGVzdHJ1Y3RpdmUiIH0pCiAgICByb3V0ZXIucmVmcmVzaCgpCiAgfQoKICByZXR1cm4gKAogICAgPENvbmZpcm1hdGlvbk1vZGFsCiAgICAgIGlzT3Blbj17aXNPcGVufQogICAgICBvbk9wZW5DaGFuZ2U9e3NldElzT3Blbn0KICAgICAgdHJpZ2dlcj17CiAgICAgICAgPEJ1dHRvbgogICAgICAgICAgdmFyaWFudD0iZ2hvc3QiCiAgICAgICAgICBzaXplPSJpY29uIgogICAgICAgICAgY2xhc3NOYW1lPSJoLTYgdy02IHAtMCB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtb3JhbmdlLTUwMCBkYXJrOnRleHQtZ3JheS01MDAgZGFyazpob3Zlcjp0ZXh0LW9yYW5nZS00MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIgogICAgICAgICAgYXJpYS1sYWJlbD0iTGltcGFyIFByb2R1dG9zIGRhIFByYXRlbGVpcmEiCiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUcmlnZ2VyQ2xpY2t9CiAgICAgICAgPgogICAgICAgICAgPEJydXNoIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICA8L0J1dHRvbj4KICAgICAgfQogICAgICB0aXRsZT17YExpbXBhciBQcm9kdXRvcyBkYSBQcmF0ZWxlaXJhICR7cG9zaXRpb259YH0KICAgICAgZGVzY3JpcHRpb249ewogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAgPHA+UmVtb3ZlIG9zIHByb2R1dG9zIGRlIHRvZG9zIG9zIGFuZGFyZXMgZGEgcHJhdGVsZWlyYSB7cG9zaXRpb259LiBBIGVzdHJ1dHVyYSBzZXLDoSBtYW50aWRhLjwvcD4KICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1yZWQtNjAwIj5Fc3RhIGHDp8OjbyBuw6NvIHBvZGUgc2VyIGRlc2ZlaXRhLjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgfQogICAgICBjb25maXJtVGV4dD0iTGltcGFyIgogICAgICBjYW5jZWxUZXh0PSJDYW5jZWxhciIKICAgICAgaXNEZXN0cnVjdGl2ZT17dHJ1ZX0KICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9CiAgICAgIGxvYWRpbmdUZXh0PSJMaW1wYW5kby4uLiIKICAgICAgb25Db25maXJtPXtoYW5kbGVDb25maXJtfQogICAgLz4KICApCn0KCmV4cG9ydCBmdW5jdGlvbiBBaXNsZVNoZWxmTGlzdCh7CiAgYWlzbGVJZCwKICBpbml0aWFsU2hlbHZlcywKICBkdXBsaWNhdGVkRUFOcywKICBzZWxlY3RlZEl0ZW1zID0gbmV3IFNldCgpLAogIG9uU2VsZWN0aW9uQ2hhbmdlLAogIGhpZ2hsaWdodGVkSXRlbSwKICB3YXJlaG91c2VOYW1lID0gIkdhbHDDo28iLAogIGFpc2xlTmFtZSA9ICJSMSIsCn06IEFpc2xlU2hlbGZMaXN0UHJvcHMpIHsKICBjb25zdCBbc2hlbHZlcywgc2V0U2hlbHZlc10gPSB1c2VTdGF0ZTxTaGVsZltdPihpbml0aWFsU2hlbHZlcykKICBjb25zdCBbc2VsZWN0ZWRTaGVsZiwgc2V0U2VsZWN0ZWRTaGVsZl0gPSB1c2VTdGF0ZTxTaGVsZiB8IG51bGw+KG51bGwpCiAgY29uc3QgW2lzQXNzaWduRGlhbG9nT3Blbiwgc2V0SXNBc3NpZ25EaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKQogIGNvbnN0IFtleHBhbmRlZFBvc2l0aW9ucywgc2V0RXhwYW5kZWRQb3NpdGlvbnNdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSkKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKQoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0U2hlbHZlcyhpbml0aWFsU2hlbHZlcykKICB9LCBbaW5pdGlhbFNoZWx2ZXNdKQoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKGhpZ2hsaWdodGVkSXRlbSkgewogICAgICBjb25zdCBoaWdobGlnaHRlZFNoZWxmID0gc2hlbHZlcy5maW5kKChzaGVsZikgPT4gc2hlbGYuaWQgPT09IGhpZ2hsaWdodGVkSXRlbSkKICAgICAgaWYgKGhpZ2hsaWdodGVkU2hlbGYpIHsKICAgICAgICBzZXRFeHBhbmRlZFBvc2l0aW9ucygocHJldikgPT4gbmV3IFNldChbLi4ucHJldiwgaGlnaGxpZ2h0ZWRTaGVsZi5wb3NpdGlvbl0pKQogICAgICB9CiAgICB9CiAgfSwgW2hpZ2hsaWdodGVkSXRlbSwgc2hlbHZlc10pCgogIGNvbnN0IGhhbmRsZUFzc2lnblByb2R1Y3QgPSAoc2hlbGY6IFNoZWxmKSA9PiB7CiAgICBzZXRTZWxlY3RlZFNoZWxmKHNoZWxmKQogICAgc2V0SXNBc3NpZ25EaWFsb2dPcGVuKHRydWUpCiAgfQoKICBjb25zdCBoYW5kbGVBc3NpZ25TdWNjZXNzID0gKCkgPT4gewogICAgc2V0SXNBc3NpZ25EaWFsb2dPcGVuKGZhbHNlKQogICAgc2V0U2VsZWN0ZWRTaGVsZihudWxsKQogICAgcm91dGVyLnJlZnJlc2goKQogIH0KCiAgY29uc3QgaGFuZGxlTW9kYWxDbG9zZSA9ICgpID0+IHsKICAgIHNldElzQXNzaWduRGlhbG9nT3BlbihmYWxzZSkKICAgIHNldFNlbGVjdGVkU2hlbGYobnVsbCkKICB9CgogIGNvbnN0IHRvZ2dsZVBvc2l0aW9uID0gKHBvc2l0aW9uOiBudW1iZXIpID0+IHsKICAgIGNvbnN0IG5ld0V4cGFuZGVkID0gbmV3IFNldChleHBhbmRlZFBvc2l0aW9ucykKICAgIGlmIChuZXdFeHBhbmRlZC5oYXMocG9zaXRpb24pKSB7CiAgICAgIG5ld0V4cGFuZGVkLmRlbGV0ZShwb3NpdGlvbikKICAgIH0gZWxzZSB7CiAgICAgIG5ld0V4cGFuZGVkLmFkZChwb3NpdGlvbikKICAgIH0KICAgIHNldEV4cGFuZGVkUG9zaXRpb25zKG5ld0V4cGFuZGVkKQogIH0KCiAgY29uc3QgZ3JvdXBlZFNoZWx2ZXMgPSBzaGVsdmVzLnJlZHVjZSgKICAgIChhY2MsIHNoZWxmKSA9PiB7CiAgICAgIGlmICghYWNjW3NoZWxmLnBvc2l0aW9uXSkgewogICAgICAgIGFjY1tzaGVsZi5wb3NpdGlvbl0gPSBbXQogICAgICB9CiAgICAgIGFjY1tzaGVsZi5wb3NpdGlvbl0ucHVzaChzaGVsZikKICAgICAgcmV0dXJuIGFjYwogICAgfSwKICAgIHt9IGFzIFJlY29yZDxudW1iZXIsIFNoZWxmW10+LAogICkKCiAgY29uc3QgY2FsY3VsYXRlU2hlbGZPY2N1cGFuY3kgPSAocG9zaXRpb25TaGVsdmVzOiBTaGVsZltdKSA9PiB7CiAgICBjb25zdCBvY2N1cGllZExldmVscyA9IHBvc2l0aW9uU2hlbHZlcy5maWx0ZXIoKHNoZWxmKSA9PiBzaGVsZi5lYW4gJiYgc2hlbGYuZWFuLnRyaW0oKSAhPT0gIiIpLmxlbmd0aAogICAgY29uc3QgdG90YWxMZXZlbHMgPSBwb3NpdGlvblNoZWx2ZXMubGVuZ3RoCiAgICByZXR1cm4geyBvY2N1cGllZExldmVscywgdG90YWxMZXZlbHMgfQogIH0KCiAgcmV0dXJuICgKICAgIDw+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0xIj4KICAgICAgICB7T2JqZWN0LmVudHJpZXMoZ3JvdXBlZFNoZWx2ZXMpCiAgICAgICAgICAuc29ydCgoW2FdLCBbYl0pID0+IE51bWJlcihhKSAtIE51bWJlcihiKSkKICAgICAgICAgIC5tYXAoKFtwb3NpdGlvbiwgcG9zaXRpb25TaGVsdmVzXSkgPT4gewogICAgICAgICAgICBjb25zdCBwb3NpdGlvbk51bWJlciA9IE51bWJlcihwb3NpdGlvbikKICAgICAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkUG9zaXRpb25zLmhhcyhwb3NpdGlvbk51bWJlcikKICAgICAgICAgICAgY29uc3QgeyBvY2N1cGllZExldmVscywgdG90YWxMZXZlbHMgfSA9IGNhbGN1bGF0ZVNoZWxmT2NjdXBhbmN5KHBvc2l0aW9uU2hlbHZlcykKICAgICAgICAgICAgY29uc3QgaGFzUHJvZHVjdHMgPSBvY2N1cGllZExldmVscyA+IDAKICAgICAgICAgICAgY29uc3QgaGFzSGlnaGxpZ2h0ZWRJdGVtID0gcG9zaXRpb25TaGVsdmVzLnNvbWUoKHNoZWxmKSA9PiBzaGVsZi5pZCA9PT0gaGlnaGxpZ2h0ZWRJdGVtKQogICAgICAgICAgICBjb25zdCBmaXJzdFNoZWxmID0gcG9zaXRpb25TaGVsdmVzLmZpbmQoKHNoZWxmKSA9PiBzaGVsZi5sZXZlbCA9PT0gMSkKCiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc2l0aW9ufSBjbGFzc05hbWU9ImJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBsYXN0OmJvcmRlci1iLTAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9Imdyb3VwIGZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgPEJ1dHRvbgogICAgICAgICAgICAgICAgICAgIGRhdGEtcG9zaXRpb249e3Bvc2l0aW9uTnVtYmVyfQogICAgICAgICAgICAgICAgICAgIGRhdGEtZXhwYW5kZWQ9e2lzRXhwYW5kZWR9CiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0iZ2hvc3QiCiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAgICAgICAgICJmbGV4LTEganVzdGlmeS1iZXR3ZWVuIGgtYXV0byBwLTMgcm91bmRlZC1tZCB0cmFuc2l0aW9uLWNvbG9ycyIsCiAgICAgICAgICAgICAgICAgICAgICAiYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCIsCiAgICAgICAgICAgICAgICAgICAgICAiZGFyazpiZy1ncmF5LTgwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTIwMCIsCiAgICAgICAgICAgICAgICAgICAgICBoYXNQcm9kdWN0cyAmJgogICAgICAgICAgICAgICAgICAgICAgICAiYmctYmx1ZS01MCBob3ZlcjpiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwIGRhcms6YmctYmx1ZS05MDAvMzAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC81MCBkYXJrOnRleHQtYmx1ZS0yMDAiLAogICAgICAgICAgICAgICAgICAgICAgaGFzSGlnaGxpZ2h0ZWRJdGVtICYmICJiZy1yZWQtMTAwIGJvcmRlci1yZWQtNTAwIGJvcmRlci0yIGRhcms6YmctcmVkLTkwMC8zMCBkYXJrOmJvcmRlci1yZWQtNDAwIiwKICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVBvc2l0aW9uKHBvc2l0aW9uTnVtYmVyKX0KICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICB7aXNFeHBhbmRlZCA/IDxDaGV2cm9uRG93biBjbGFzc05hbWU9ImgtNCB3LTQiIC8+IDogPENoZXZyb25SaWdodCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+fQogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIj5QcmF0ZWxlaXJhIHtwb3NpdGlvbn08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICAgIDxzcGFuCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgInB4LTIgcHktMSB0ZXh0LXhzIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Byb2R1Y3RzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICJiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtNzAwIGRhcms6YmctYmx1ZS04MDAvNTAgZGFyazp0ZXh0LWJsdWUtMjAwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAiYmctZ3JheS0yMDAgdGV4dC1ncmF5LTYwMCBkYXJrOmJnLWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgIHtvY2N1cGllZExldmVsc30ve3RvdGFsTGV2ZWxzfSBvY3VwYWRvcwogICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAge2ZpcnN0U2hlbGYgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iaGlkZGVuIHNtOmZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgbWwtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFkZExldmVsQnV0dG9uIGFpc2xlSWQ9e2Fpc2xlSWR9IHBvc2l0aW9uPXtwb3NpdGlvbk51bWJlcn0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8U2hlbGZDbGVhckJ1dHRvbiBhaXNsZUlkPXthaXNsZUlkfSBwb3NpdGlvbj17cG9zaXRpb25OdW1iZXJ9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZVNoZWxmQnV0dG9uIGZpcnN0U2hlbGZJZD17Zmlyc3RTaGVsZi5pZH0gcG9zaXRpb249e3Bvc2l0aW9uTnVtYmVyfSAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgoKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICB7aXNFeHBhbmRlZCAmJiAoCiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCI+CiAgICAgICAgICAgICAgICAgICAge3Bvc2l0aW9uU2hlbHZlcwogICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubGV2ZWwgLSBiLmxldmVsKQogICAgICAgICAgICAgICAgICAgICAgLm1hcCgoc2hlbGYpID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgPFNoZWxmSXRlbQogICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2hlbGYuaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3NoZWxmLmlkfQogICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uPXtzaGVsZi5wb3NpdGlvbn0KICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbD17c2hlbGYubGV2ZWx9CiAgICAgICAgICAgICAgICAgICAgICAgICAgZWFuPXtzaGVsZi5lYW59CiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE5hbWU9e3NoZWxmLnByb2R1Y3ROYW1lfQogICAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VwYW5jeVBlcmNlbnRhZ2U9ezI1fQogICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWZXJpZmllZD17c2hlbGYubGFzdFZlcmlmaWVkfQogICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHVwbGljYXRlZEVBTj17c2hlbGYuZWFuID8gZHVwbGljYXRlZEVBTnMuaGFzKHNoZWxmLmVhbi50b0xvd2VyQ2FzZSgpKSA6IGZhbHNlfQogICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXNzaWduUHJvZHVjdD17KCkgPT4gaGFuZGxlQXNzaWduUHJvZHVjdChzaGVsZil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17c2VsZWN0ZWRJdGVtcy5oYXMoc2hlbGYuaWQpfQogICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtvblNlbGVjdGlvbkNoYW5nZX0KICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hpZ2hsaWdodGVkPXtoaWdobGlnaHRlZEl0ZW0gPT09IHNoZWxmLmlkfQogICAgICAgICAgICAgICAgICAgICAgICAgIHdhcmVob3VzZU5hbWU9e3dhcmVob3VzZU5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgYWlzbGVOYW1lPXthaXNsZU5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApCiAgICAgICAgICB9KX0KICAgICAgPC9kaXY+CgogICAgICB7c2VsZWN0ZWRTaGVsZiAmJiAoCiAgICAgICAgPEZvcm1Nb2RhbAogICAgICAgICAgaXNPcGVuPXtpc0Fzc2lnbkRpYWxvZ09wZW59CiAgICAgICAgICBvbk9wZW5DaGFuZ2U9e2hhbmRsZU1vZGFsQ2xvc2V9CiAgICAgICAgICB0aXRsZT17YCR7c2VsZWN0ZWRTaGVsZi5lYW4gJiYgc2VsZWN0ZWRTaGVsZi5lYW4udHJpbSgpICE9PSAiIiA/ICJFZGl0YXIiIDogIkF0cmlidWlyIn0gUHJvZHV0byAtIFByYXRlbGVpcmEgJHtzZWxlY3RlZFNoZWxmLnBvc2l0aW9ufSAtIEFuZGFyICR7c2VsZWN0ZWRTaGVsZi5sZXZlbH1gfQogICAgICAgICAgZGVzY3JpcHRpb249ewogICAgICAgICAgICBzZWxlY3RlZFNoZWxmLmVhbiAmJiBzZWxlY3RlZFNoZWxmLmVhbi50cmltKCkgIT09ICIiCiAgICAgICAgICAgICAgPyBgUHJvZHV0byBhdHVhbDogJHtzZWxlY3RlZFNoZWxmLnByb2R1Y3ROYW1lIHx8ICJOb21lIG7Do28gaW5mb3JtYWRvIn0gKEVBTjogJHtzZWxlY3RlZFNoZWxmLmVhbn0pYAogICAgICAgICAgICAgIDogIkVzdGEgcHJhdGVsZWlyYSBlc3TDoSB2YXppYS4gQWRpY2lvbmUgdW0gcHJvZHV0by4iCiAgICAgICAgICB9CiAgICAgICAgPgogICAgICAgICAgPEFzc2lnblByb2R1Y3RUb1NoZWxmRm9ybUVuaGFuY2VkCiAgICAgICAgICAgIHNoZWxmSWQ9e3NlbGVjdGVkU2hlbGYuaWR9CiAgICAgICAgICAgIGN1cnJlbnRFYW49e3NlbGVjdGVkU2hlbGYuZWFuIHx8ICIifQogICAgICAgICAgICBjdXJyZW50UHJvZHVjdE5hbWU9e3NlbGVjdGVkU2hlbGYucHJvZHVjdE5hbWUgfHwgIiJ9CiAgICAgICAgICAgIGN1cnJlbnRPY2N1cGFuY3lQZXJjZW50YWdlPXsyNX0KICAgICAgICAgICAgb25TdWNjZXNzPXtoYW5kbGVBc3NpZ25TdWNjZXNzfQogICAgICAgICAgLz4KICAgICAgICA8L0Zvcm1Nb2RhbD4KICAgICAgKX0KICAgIDwvPgogICkKfQo="}