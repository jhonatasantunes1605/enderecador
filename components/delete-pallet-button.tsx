{"data":"InVzZSBjbGllbnQiCgppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICJyZWFjdCIKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICJyZWFjdCIKaW1wb3J0IHsgdXNlQWN0aW9uU3RhdGUgfSBmcm9tICJyZWFjdCIKaW1wb3J0IHsgdXNlRm9ybVN0YXR1cyB9IGZyb20gInJlYWN0LWRvbSIKaW1wb3J0IHsgZGVsZXRlUGFsbGV0QWN0aW9uIH0gZnJvbSAiQC9hcHAvYWN0aW9ucyIKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiIKaW1wb3J0IHsgVHJhc2gyLCBMb2FkZXIyIH0gZnJvbSAibHVjaWRlLXJlYWN0IgppbXBvcnQgeyB0b2FzdCB9IGZyb20gIkAvaG9va3MvdXNlLXRvYXN0IgppbXBvcnQgewogIEFsZXJ0RGlhbG9nLAogIEFsZXJ0RGlhbG9nQ2FuY2VsLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogIEFsZXJ0RGlhbG9nRm9vdGVyLAogIEFsZXJ0RGlhbG9nSGVhZGVyLAogIEFsZXJ0RGlhbG9nVGl0bGUsCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAp9IGZyb20gIkAvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2ciCmltcG9ydCB7IExvYWRpbmdPdmVybGF5IH0gZnJvbSAiLi9sb2FkaW5nLW92ZXJsYXkiCgpmdW5jdGlvbiBTdWJtaXRCdXR0b24oeyBwZW5kaW5nIH06IHsgcGVuZGluZzogYm9vbGVhbiB9KSB7CiAgcmV0dXJuICgKICAgIDxCdXR0b24KICAgICAgdHlwZT0ic3VibWl0IgogICAgICB2YXJpYW50PSJkZXN0cnVjdGl2ZSIKICAgICAgZGlzYWJsZWQ9e3BlbmRpbmd9CiAgICAgIGNsYXNzTmFtZT0idy1mdWxsIGJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCBkYXJrOmJnLXJlZC02MDAgZGFyazpob3ZlcjpiZy1yZWQtNzAwIHRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIgogICAgPgogICAgICB7cGVuZGluZyA/ICgKICAgICAgICA8PgogICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yIiAvPgogICAgICAgICAgRXhjbHVpbmRvLi4uCiAgICAgICAgPC8+CiAgICAgICkgOiAoCiAgICAgICAgIkV4Y2x1aXIgUGFsZXRlIgogICAgICApfQogICAgPC9CdXR0b24+CiAgKQp9CgpleHBvcnQgZnVuY3Rpb24gRGVsZXRlUGFsbGV0QnV0dG9uKHsKICBwYWxsZXRJZCwKICBwb3NpdGlvbiwKICBoYXNQcm9kdWN0LAogIHByb2R1Y3ROYW1lLAp9OiB7CiAgcGFsbGV0SWQ6IHN0cmluZwogIHBvc2l0aW9uOiBudW1iZXIKICBoYXNQcm9kdWN0OiBib29sZWFuCiAgcHJvZHVjdE5hbWU/OiBzdHJpbmcKfSkgewogIGNvbnN0IFtzdGF0ZSwgZm9ybUFjdGlvbl0gPSB1c2VBY3Rpb25TdGF0ZShkZWxldGVQYWxsZXRBY3Rpb24uYmluZChudWxsLCBwYWxsZXRJZCksIHsgbWVzc2FnZTogIiIsIHN1Y2Nlc3M6IGZhbHNlIH0pCiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKQogIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSkKICBjb25zdCB7IHBlbmRpbmcgfSA9IHVzZUZvcm1TdGF0dXMoKQoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHN0YXRlLm1lc3NhZ2UpIHsKICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKQogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6IHN0YXRlLm1lc3NhZ2UsCiAgICAgICAgdmFyaWFudDogc3RhdGUuc3VjY2VzcyA/ICJkZWZhdWx0IiA6ICJkZXN0cnVjdGl2ZSIsCiAgICAgIH0pCiAgICAgIGlmIChzdGF0ZS5zdWNjZXNzKSB7CiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKQogICAgICAgIHNldElzUHJvY2Vzc2luZyh0cnVlKQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgfSwgODAwKQogICAgICB9CiAgICB9CiAgfSwgW3N0YXRlXSkKCiAgY29uc3QgaGFuZGxlVHJpZ2dlckNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHsKICAgIGUucHJldmVudERlZmF1bHQoKQogICAgZS5zdG9wUHJvcGFnYXRpb24oKQogICAgc2V0SXNPcGVuKHRydWUpCiAgfQoKICBjb25zdCBoYW5kbGVGb3JtU3VibWl0ID0gKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICBlLnN0b3BQcm9wYWdhdGlvbigpCiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSkKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGUudGFyZ2V0IGFzIEhUTUxGb3JtRWxlbWVudCkKICAgIGZvcm1BY3Rpb24oZm9ybURhdGEpCiAgfQoKICByZXR1cm4gKAogICAgPD4KICAgICAgPEFsZXJ0RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PgogICAgICAgIDxBbGVydERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAgdmFyaWFudD0iZ2hvc3QiCiAgICAgICAgICAgIHNpemU9Imljb24iCiAgICAgICAgICAgIGNsYXNzTmFtZT0iaC01IHctNSBwLTAgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXJlZC01MDAgZGFyazp0ZXh0LWdyYXktNTAwIGRhcms6aG92ZXI6dGV4dC1yZWQtNDAwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBob3ZlcjpiZy1yZWQtNTAgZGFyazpob3ZlcjpiZy1yZWQtOTAwLzIwIHJvdW5kZWQtc20iCiAgICAgICAgICAgIGFyaWEtbGFiZWw9IkV4Y2x1aXIgUGFsZXRlIgogICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUcmlnZ2VyQ2xpY2t9CiAgICAgICAgICA+CiAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSJoLTMgdy0zIiAvPgogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudAogICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9CiAgICAgICAgICBjbGFzc05hbWU9InNtOm1heC13LVs0MjVweF0gYmctd2hpdGUgZGFyazpiZy1ncmF5LTkwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHNoYWRvdy1sZyIKICAgICAgICA+CiAgICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXIgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZSBjbGFzc05hbWU9InRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCI+CiAgICAgICAgICAgICAgRXhjbHVpciBQYWxldGUge3Bvc2l0aW9ufQogICAgICAgICAgICA8L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0Rlc2NyaXB0aW9uIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCI+CiAgICAgICAgICAgICAgRXN0YSBhw6fDo28gbsOjbyBwb2RlIHNlciBkZXNmZWl0YS4gSXNzbyBleGNsdWlyw6EgcGVybWFuZW50ZW1lbnRlIG8gcGFsZXRlIHtwb3NpdGlvbn0KICAgICAgICAgICAgICB7aGFzUHJvZHVjdCAmJiBwcm9kdWN0TmFtZSAmJiAoCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImJsb2NrIG10LTIgcC0yIGJnLXllbGxvdy01MCBkYXJrOmJnLXllbGxvdy05MDAvMjAgcm91bmRlZC1tZCB0ZXh0LXllbGxvdy04MDAgZGFyazp0ZXh0LXllbGxvdy0yMDAiPgogICAgICAgICAgICAgICAgICA8c3Ryb25nPlByb2R1dG86PC9zdHJvbmc+ICJ7cHJvZHVjdE5hbWV9IgogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXIgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sLXJldmVyc2Ugc206ZmxleC1yb3cgc206anVzdGlmeS1lbmQgc206c3BhY2UteC0yIGdhcC0yIHB0LTQiPgogICAgICAgICAgICA8QWxlcnREaWFsb2dDYW5jZWwKICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0KICAgICAgICAgICAgICBjbGFzc05hbWU9InctZnVsbCBzbTp3LWF1dG8gYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgaG92ZXI6YmctZ3JheS0yMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAiCiAgICAgICAgICAgID4KICAgICAgICAgICAgICBDYW5jZWxhcgogICAgICAgICAgICA8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlRm9ybVN1Ym1pdH0gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIj4KICAgICAgICAgICAgICA8U3VibWl0QnV0dG9uIHBlbmRpbmc9e3BlbmRpbmcgfHwgaXNQcm9jZXNzaW5nfSAvPgogICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICA8L0FsZXJ0RGlhbG9nPgoKICAgICAgPExvYWRpbmdPdmVybGF5CiAgICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9CiAgICAgICAgbWVzc2FnZT17c3RhdGUuc3VjY2VzcyA/ICJBdHVhbGl6YW5kbyBpbnRlcmZhY2UuLi4iIDogIlByb2Nlc3NhbmRvIGV4Y2x1c8Ojby4uLiJ9CiAgICAgIC8+CiAgICA8Lz4KICApCn0K"}